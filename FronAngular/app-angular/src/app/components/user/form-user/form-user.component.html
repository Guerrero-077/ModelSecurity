<h2>{{title}}</h2>

<form (submit)="guardarCambios()" [formGroup]="form">
    <div class="">
        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input [formControl]="form.controls.user_name" matInput>
        </mat-form-field>
    </div>

    <div class="">
        <mat-form-field appearance="outline">
            <mat-label>email</mat-label>
            <input [formControl]="form.controls.email" matInput>
        </mat-form-field>
    </div>

    <div class="">
        <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput type="password" formControlName="password">
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>Person</mat-label>
            <mat-select [formControl]="form.controls.person_id" required>
                <mat-option *ngFor="let person of persons" [value]="person.id">
                    {{ person.full_name }}
                </mat-option>
            </mat-select>

            <mat-error *ngIf="form.controls.person_id.invalid && form.controls.person_id.touched">
                Debes seleccionar una prioridad.
            </mat-error>
        </mat-form-field>
    </div>


    <div class="">
        <button type="submit" mat-flat-button>Save</button>
        <a mat-stroked-button routerLink="/user">Cancel</a>
    </div>
</form>